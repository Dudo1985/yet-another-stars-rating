(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function r(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(t);if(a){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,a){if(a&&("object"===e(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return i(t)}(this,r)}}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(t){var a=function(t,a){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,a||"default");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"===e(a)?a:String(a)}var u=wp.i18n.__;function m(){return React.createElement("div",null,u("Customize this ranking ","yet-another-stars-rating"),React.createElement("a",{href:yasrConstantGutenberg.adminurl+"admin.php?page=yasr_settings_page&tab=rankings"},u("here.","yet-another-stars-rating")))}var y=function(e){n(o,React.Component);var a=s(o);function o(e){var r,n,s,c;t(this,o),r=a.call(this,e),n=i(r),c=void 0,(s=l(s="yasrProLabelReviewsEnabled"))in n?Object.defineProperty(n,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[s]=c,r.yasrProLabelReviewsEnabled=u("Reviews in comments for this post / page are disabled","yet-another-stars-rating");var m=+wp.data.select("core/editor").getCurrentPost().yasr_pro_comment_review_enabled;return 1===m&&(r.yasrProLabelReviewsEnabled=u("Reviews in comments for this post / page are enabled","yet-another-stars-rating")),r.state={reviewEnabled:m},r.yasrUpdatePostMetaReviewsEnabled=r.yasrUpdatePostMetaReviewsEnabled.bind(i(r)),r}return r(o,[{key:"yasrUpdatePostMetaReviewsEnabled",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=document.getElementById("yasr-pro-multiset-review-switcher");this.setState({reviewEnabled:a}),!0===a?wp.data.dispatch("core/editor").editPost({meta:{yasr_pro_reviews_in_comment_enabled:"1"}}):(r.checked=!1,wp.data.dispatch("core/editor").editPost({meta:{yasr_pro_reviews_in_comment_enabled:"0"}}))}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("hr",null),React.createElement("label",null,React.createElement("span",null,this.yasrProLabelReviewsEnabled)),React.createElement("div",{className:"yasr-onoffswitch-big yasr-onoffswitch-big-center",id:"yasr-switcher-disable-comment-reviews"},React.createElement("input",{type:"checkbox",name:"yasr_comment_reviews_disabled",className:"yasr-onoffswitch-checkbox",value:"1",id:"yasr-comment-reviews-disabled-switch",defaultChecked:this.state.reviewEnabled,onChange:this.yasrUpdatePostMetaReviewsEnabled}),React.createElement("label",{className:"yasr-onoffswitch-label",htmlFor:"yasr-comment-reviews-disabled-switch"},React.createElement("span",{className:"yasr-onoffswitch-inner yasr-onoffswitch-onoff-inner"}),React.createElement("span",{className:"yasr-onoffswitch-switch"}))),React.createElement("div",{className:"yasr-metabox-doc-link"},React.createElement("a",{href:"https://yetanotherstarsrating.com/yasr-pro/reviews-in-comments/?utm_source=wp-plugin&utm_medium=tinymce-popup&utm_campaign=yasr_top_right",target:"_blank"},u("Help","yet-another-stars-rating"))))}}]),o}(),f=function(e){n(o,React.Component);var a=s(o);function o(e){var r;return t(this,o),(r=a.call(this,e)).state={numberFakeRatings:0},r.state={fakeRating:5},r.state={ajaxResponse:""},r.yasrNumberFakeRatings=r.yasrNumberFakeRatings.bind(i(r)),r.yasrFakeRating=r.yasrFakeRating.bind(i(r)),r.yasrSaveFakeRatings=r.yasrSaveFakeRatings.bind(i(r)),r}return r(o,[{key:"yasrNumberFakeRatings",value:function(e){this.setState({numberFakeRatings:e.target.value})}},{key:"yasrFakeRating",value:function(e){this.setState({fakeRating:e.target.value})}},{key:"yasrSaveFakeRatings",value:function(e){var t=wp.data.select("core/editor").getCurrentPostId();if(this.state.numberFakeRatings>0&&this.state.numberFakeRatings<201){var a=function(e){"OK"===e?o.setState({ajaxResponse:u("Done!","yet-another-stars-rating")}):o.setState({ajaxResponse:u("Error","yet-another-stars-rating")})};this.setState({ajaxResponse:JSON.parse(yasrWindowVar.textLoadRanking)});var r=this.state.fakeRating,n=this.state.numberFakeRatings;null==r&&(r=5);var o=this,s={action:"yasr_adds_fake_ratings",yasr_pro_nonce_fake_ratings:yasrConstantGutenberg.yasr_pro_nonce_fake_ratings,yasr_pro_fake_number_of_votes:n,yasr_pro_fake_ratings:r,post_id:t};jQuery.post(ajaxurl,s,(function(e){a(e)})).fail((function(e,t,r,n){a("KO")}))}}},{key:"render",value:function(){var e=!0;return!0===JSON.parse(yasrConstantGutenberg.proVersion)&&(e=!1),React.createElement("div",null,React.createElement("hr",null),React.createElement("strong",null,u("Add fake ratings","yet-another-stars-rating")),React.createElement("p",null),React.createElement("div",null,u("Number of votes","yet-another-stars-rating"),React.createElement("br",null),React.createElement("div",null,React.createElement("label",{htmlFor:"yasr-pro-fake-number-of-votes"},React.createElement("select",{name:"yasr-pro-fake-number-of-votes",id:"yasr-pro-fake-number-of-votes",onChange:this.yasrNumberFakeRatings,disabled:e},React.createElement("option",{value:"none",defaultValue:!0},"0"),React.createElement("option",{value:"1"},"1"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"5"},"5"),React.createElement("option",{value:"10"},"10"),React.createElement("option",{value:"20"},"20"),React.createElement("option",{value:"50"},"50"),React.createElement("option",{value:"100"},"100"),React.createElement("option",{value:"200"},"200"))))),u("Rating:","yet-another-stars-rating"),React.createElement("div",null,React.createElement("label",{htmlFor:"yasr-pro-fake-ratings"},React.createElement("select",{name:"yasr-pro-fake-ratings",id:"yasr-pro-fake-ratings",value:this.state.fakeRating,onChange:this.yasrFakeRating,disabled:e},React.createElement("option",{value:"5"},"5"),React.createElement("option",{value:"4"},"4"),React.createElement("option",{value:"3"},"3"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"1"},"1"))),React.createElement("p",null),React.createElement("div",null,u("This will add ratings for yasr_visitor_votes shortcode.","yet-another-stars-rating"))),React.createElement("div",null,React.createElement("br",null),React.createElement("button",{onClick:this.yasrSaveFakeRatings,disabled:e},"Save"),React.createElement("br",null),this.state.ajaxResponse),React.createElement("div",{className:"yasr-metabox-doc-link"},React.createElement("a",{href:"https://yetanotherstarsrating.com/yasr_fake_ratings/?utm_source=wp-plugin&utm_medium=tinymce-popup&utm_campaign=yasr_top_right",target:"_blank"},u("Help","yet-another-stars-rating"))))}}]),o}();wp.hooks.addAction("yasr_below_panel","yet-another-stars-rating",(function(e){e[0]=React.createElement(y,{key:0}),e[1]=React.createElement(f,{key:1})})),wp.hooks.addAction("yasr_overall_rating_rankings","yet-another-stars-rating",(function(e){e[0]=React.createElement(m,{key:0})})),wp.hooks.addAction("yasr_visitor_votes_rankings","yet-another-stars-rating",(function(e){e[0]=React.createElement(m,{key:0})})),wp.hooks.addAction("yasr_top_reviewers_setting","yet-another-stars-rating",(function(e){e[0]=React.createElement(m,{key:0})})),wp.hooks.addAction("yasr_top_visitor_setting","yet-another-stars-rating",(function(e){e[0]=React.createElement(m,{key:0})}))})();