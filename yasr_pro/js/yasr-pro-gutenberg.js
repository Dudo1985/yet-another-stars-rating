(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function n(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(t,a,n){return a=s(a),function(t,a){if(a&&("object"===e(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return i(t)}(t,o()?Reflect.construct(a,n||[],s(t).constructor):a.apply(t,n))}function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(o=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function u(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,a||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:String(a)}var m=wp.i18n.__;function y(){return React.createElement("div",null,m("Customize this ranking ","yet-another-stars-rating"),React.createElement("a",{href:yasrConstantGutenberg.adminurl+"admin.php?page=yasr_settings_page&tab=rankings"},m("here.","yet-another-stars-rating")))}var p=function(e){function a(e){var n,o,s,c;t(this,a),n=r(this,a,[e]),o=i(n),c=void 0,(s=u(s="yasrProLabelReviewsEnabled"))in o?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c,n.yasrProLabelReviewsEnabled=m("Reviews in comments for this post / page are disabled","yet-another-stars-rating");var l=+wp.data.select("core/editor").getCurrentPost().yasr_pro_comment_review_enabled;return 1===l&&(n.yasrProLabelReviewsEnabled=m("Reviews in comments for this post / page are enabled","yet-another-stars-rating")),n.state={reviewEnabled:l},n.yasrUpdatePostMetaReviewsEnabled=n.yasrUpdatePostMetaReviewsEnabled.bind(i(n)),n}return c(a,React.Component),n(a,[{key:"yasrUpdatePostMetaReviewsEnabled",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=document.getElementById("yasr-pro-multiset-review-switcher");this.setState({reviewEnabled:a}),!0===a?wp.data.dispatch("core/editor").editPost({meta:{yasr_pro_reviews_in_comment_enabled:"1"}}):(n.checked=!1,wp.data.dispatch("core/editor").editPost({meta:{yasr_pro_reviews_in_comment_enabled:"0"}}))}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("hr",null),React.createElement("label",null,React.createElement("span",null,this.yasrProLabelReviewsEnabled)),React.createElement("div",{className:"yasr-onoffswitch-big yasr-onoffswitch-big-center",id:"yasr-switcher-disable-comment-reviews"},React.createElement("input",{type:"checkbox",name:"yasr_comment_reviews_disabled",className:"yasr-onoffswitch-checkbox",value:"1",id:"yasr-comment-reviews-disabled-switch",defaultChecked:this.state.reviewEnabled,onChange:this.yasrUpdatePostMetaReviewsEnabled}),React.createElement("label",{className:"yasr-onoffswitch-label",htmlFor:"yasr-comment-reviews-disabled-switch"},React.createElement("span",{className:"yasr-onoffswitch-inner yasr-onoffswitch-onoff-inner"}),React.createElement("span",{className:"yasr-onoffswitch-switch"}))),React.createElement("div",{className:"yasr-metabox-doc-link"},React.createElement("a",{href:"https://yetanotherstarsrating.com/yasr-pro/reviews-in-comments/?utm_source=wp-plugin&utm_medium=tinymce-popup&utm_campaign=yasr_top_right",target:"_blank"},m("Help","yet-another-stars-rating"))))}}]),a}(),f=function(e){function a(e){var n;return t(this,a),(n=r(this,a,[e])).state={numberFakeRatings:0},n.state={fakeRating:5},n.state={ajaxResponse:""},n.yasrNumberFakeRatings=n.yasrNumberFakeRatings.bind(i(n)),n.yasrFakeRating=n.yasrFakeRating.bind(i(n)),n.yasrSaveFakeRatings=n.yasrSaveFakeRatings.bind(i(n)),n}return c(a,React.Component),n(a,[{key:"yasrNumberFakeRatings",value:function(e){this.setState({numberFakeRatings:e.target.value})}},{key:"yasrFakeRating",value:function(e){this.setState({fakeRating:e.target.value})}},{key:"yasrSaveFakeRatings",value:function(e){var t=wp.data.select("core/editor").getCurrentPostId();if(this.state.numberFakeRatings>0&&this.state.numberFakeRatings<201){var a=function(e){"OK"===e?o.setState({ajaxResponse:m("Done!","yet-another-stars-rating")}):o.setState({ajaxResponse:m("Error","yet-another-stars-rating")})};this.setState({ajaxResponse:JSON.parse(yasrWindowVar.textLoadRanking)});var n=this.state.fakeRating,r=this.state.numberFakeRatings;null==n&&(n=5);var o=this,s={action:"yasr_adds_fake_ratings",yasr_pro_nonce_fake_ratings:yasrConstantGutenberg.yasr_pro_nonce_fake_ratings,yasr_pro_fake_number_of_votes:r,yasr_pro_fake_ratings:n,post_id:t};jQuery.post(ajaxurl,s,(function(e){a(e)})).fail((function(e,t,n,r){a("KO")}))}}},{key:"render",value:function(){var e=!0;return!0===JSON.parse(yasrConstantGutenberg.proVersion)&&(e=!1),React.createElement("div",null,React.createElement("hr",null),React.createElement("strong",null,m("Add fake ratings","yet-another-stars-rating")),React.createElement("p",null),React.createElement("div",null,m("Number of votes","yet-another-stars-rating"),React.createElement("br",null),React.createElement("div",null,React.createElement("label",{htmlFor:"yasr-pro-fake-number-of-votes"},React.createElement("select",{name:"yasr-pro-fake-number-of-votes",id:"yasr-pro-fake-number-of-votes",onChange:this.yasrNumberFakeRatings,disabled:e},React.createElement("option",{value:"none",defaultValue:!0},"0"),React.createElement("option",{value:"1"},"1"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"5"},"5"),React.createElement("option",{value:"10"},"10"),React.createElement("option",{value:"20"},"20"),React.createElement("option",{value:"50"},"50"),React.createElement("option",{value:"100"},"100"),React.createElement("option",{value:"200"},"200"))))),m("Rating:","yet-another-stars-rating"),React.createElement("div",null,React.createElement("label",{htmlFor:"yasr-pro-fake-ratings"},React.createElement("select",{name:"yasr-pro-fake-ratings",id:"yasr-pro-fake-ratings",value:this.state.fakeRating,onChange:this.yasrFakeRating,disabled:e},React.createElement("option",{value:"5"},"5"),React.createElement("option",{value:"4"},"4"),React.createElement("option",{value:"3"},"3"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"1"},"1"))),React.createElement("p",null),React.createElement("div",null,m("This will add ratings for yasr_visitor_votes shortcode.","yet-another-stars-rating"))),React.createElement("div",null,React.createElement("br",null),React.createElement("button",{onClick:this.yasrSaveFakeRatings,disabled:e},"Save"),React.createElement("br",null),this.state.ajaxResponse),React.createElement("div",{className:"yasr-metabox-doc-link"},React.createElement("a",{href:"https://yetanotherstarsrating.com/yasr_fake_ratings/?utm_source=wp-plugin&utm_medium=tinymce-popup&utm_campaign=yasr_top_right",target:"_blank"},m("Help","yet-another-stars-rating"))))}}]),a}();wp.hooks.addAction("yasr_below_panel","yet-another-stars-rating",(function(e){e[0]=React.createElement(p,{key:0}),e[1]=React.createElement(f,{key:1})})),wp.hooks.addAction("yasr_overall_rating_rankings","yet-another-stars-rating",(function(e){e[0]=React.createElement(y,{key:0})})),wp.hooks.addAction("yasr_visitor_votes_rankings","yet-another-stars-rating",(function(e){e[0]=React.createElement(y,{key:0})})),wp.hooks.addAction("yasr_top_reviewers_setting","yet-another-stars-rating",(function(e){e[0]=React.createElement(y,{key:0})})),wp.hooks.addAction("yasr_top_visitor_setting","yet-another-stars-rating",(function(e){e[0]=React.createElement(y,{key:0})}))})();