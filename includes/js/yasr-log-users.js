(()=>{const e=document.getElementById("yasr-user-log-page-navigation-buttons"),t=document.getElementById("yasr-admin-log-page-navigation-buttons");function n(e="yasr-user"){let t=!1;"yasr-admin"===e&&(t=!0);const n=document.getElementById(`${e}-log-total-pages`).dataset.yasrLogTotalPages,o=`${e}_change_log_page`,s=document.getElementById(`${e}-log-nonce-page`).value;let l=[],r=[],u=[],d=[],c=!1,i=!1;!0===t&&(c=[],i=[]);for(let n=0;n<8;n++)l[n]=document.getElementById(`${e}-log-div-child-${n}`),r[n]=document.getElementById(`${e}-log-vote-${n}`),u[n]=document.getElementById(`${e}-log-post-${n}`),d[n]=document.getElementById(`${e}-log-date-${n}`),!0===t&&(c[n]=document.getElementById(`${e}-log-user-${n}`),i[n]=document.getElementById(`${e}-log-avatar-${n}`));a(l,r,u,d,n,c,i,e,o,s)}function a(n,o,s,l,r,u,d,c,i,g){document.querySelectorAll(`.${c}-log-page-num`).forEach((function(m){m.addEventListener("click",(function(){const m=parseInt(this.value);!function(n,a,o){n=parseInt(n);let s="";n>=3&&a>3&&(s+=`<button class="${o}-log-page-num" value="1">\n            &laquo; First </button>&nbsp;&nbsp;...&nbsp;&nbsp;`);let l=n-1;l<=0&&(l=1);let r=n+1;r>=a&&(r=a);for(let e=l;e<=r;e++)s+=e===n?`<button class="button-primary" value="${e}">${e}</button>&nbsp;&nbsp;`:`<button class="${o}-log-page-num" value="${e}">${e}</button>&nbsp;&nbsp;`;a>3&&n<a&&(s+=`...&nbsp;&nbsp;\n            <button class="${o}-log-page-num" value="${a}"> Last &raquo;</button>&nbsp;&nbsp;`);if("yasr-admin"===o)return t.innerHTML=s;e.innerHTML=s}(m,r,c),function(e,t,n,o,s,l,r,u,d,c,i){const g=document.getElementById(`${d}-log-loader-metabox`);g.style.display="inline";const m={action:c,pagenum:e,totalpages:l,yasr_user_log_nonce:i};fetch(yasrWindowVar.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(m).toString()}).then((e=>!0===e.ok?e.json():(console.error("Ajax Call Failed.","yet-another-stars-rating"),"KO"))).then((e=>{if("KO"!==e){if("success"!==e.status)throw new Error(e.message);p(e),a(t,n,o,s,l,r,u,d,c,i)}})).catch((e=>{console.info(e)})).then((e=>{g.style.display="none"}));const p=e=>{let a;for(let l=0;l<8;l++)e.data[l]?(t[l].style.display="block",n[l].innerText=parseInt(e.data[l].vote),Array.isArray(r)&&(r[l].innerText=e.data[l].user_nicename),Array.isArray(u)&&(u[l].src=e.data[l].avatar_url),a=`<a href="${e.data[l].permalink}">${e.data[l].post_title}</a>`,o[l].innerHTML=a,s[l].innerText=e.data[l].date):t[l].style.display="none"}}(m,n,o,s,l,r,u,d,c,i,g)}))}))}e&&n(),t&&n("yasr-admin")})();